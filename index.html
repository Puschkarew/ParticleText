<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>Interactive Particle Sphere - 3D Particle Text Visualization</title>
    <meta name="title" content="Interactive Particle Sphere - 3D Particle Text Visualization">
    <meta name="description" content="Интерактивная 3D визуализация текста из частиц с использованием Three.js. Настройте параметры в реальном времени и наслаждайтесь красивой анимацией.">
    <meta name="keywords" content="3D, particles, Three.js, interactive, visualization, WebGL">
    <meta name="author" content="ParticleText">
    
    <!-- Resource Hints for Performance -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link rel="preload" href="css/style.css" as="style">
    <link rel="preload" href="js/main.js" as="script" crossorigin>
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://puschkarew.github.io/ParticleText/">
    <meta property="og:title" content="Interactive Particle Sphere - 3D Particle Text">
    <meta property="og:description" content="Интерактивная 3D визуализация текста из частиц с использованием Three.js">
    <meta property="og:image" content="https://puschkarew.github.io/ParticleText/og-image.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://puschkarew.github.io/ParticleText/">
    <meta property="twitter:title" content="Interactive Particle Sphere - 3D Particle Text">
    <meta property="twitter:description" content="Интерактивная 3D визуализация текста из частиц с использованием Three.js">
    <meta property="twitter:image" content="https://puschkarew.github.io/ParticleText/og-image.png">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#000000">
    <meta name="msapplication-TileColor" content="#000000">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='40' fill='%23fff'/%3E%3C/svg%3E">
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="controls">
        <h3>Настройки объекта</h3>
        
        <div class="control-group" style="display:none">
            <label>
                Максимальный FPS
                <span class="value" id="maxFPSValue">Без ограничения</span>
            </label>
            <input type="range" id="maxFPS" min="30" max="300" step="1" value="300">
        </div>
        
        <div class="control-group">
            <label>
                Размер точек
                <span class="value" id="pointSizeValue">3</span>
            </label>
            <input type="range" id="pointSize" min="1" max="10" step="0.1" value="3">
        </div>
        
        <div class="control-group">
            <label>
                Максимальная яркость
                <span class="value" id="maxBrightnessValue">100%</span>
            </label>
            <input type="range" id="maxBrightness" min="0" max="100" step="1" value="100">
        </div>
        
        <div class="control-group">
            <label>
                Затемнение по глубине
                <span class="value" id="depthDarkeningStrengthValue">15%</span>
            </label>
            <input type="range" id="depthDarkeningStrength" min="0" max="300" step="1" value="15">
        </div>
        
        <div class="control-group">
            <label>
                Максимальная разница размера
                <span class="value" id="sizeVariationValue">50%</span>
            </label>
            <input type="range" id="sizeVariation" min="0" max="0.5" step="0.01" value="0.5">
        </div>
        
        <div class="control-group">
            <label>
                Количество точек
                <span class="value" id="particleCountValue">10000</span>
            </label>
            <input type="range" id="particleCount" min="3000" max="10000" step="500" value="10000">
        </div>
        
        <div class="control-group">
            <label>
                Количество точек (вне формы)
                <span class="value" id="outsideParticleCountValue">0</span>
            </label>
            <input type="range" id="outsideParticleCount" min="0" max="8000" step="50" value="0">
        </div>
        
        <div class="control-group">
            <label>
                Процент невидимых точек (вне формы)
                <span class="value" id="outsideInvisiblePercentageValue">0%</span>
            </label>
            <input type="range" id="outsideInvisiblePercentage" min="0" max="100" step="1" value="0">
        </div>
        
        <div class="control-group">
            <label>
                Сила воздействия
                <span class="value" id="forceStrengthValue">100</span>
            </label>
            <input type="range" id="forceStrength" min="5" max="100" step="5" value="100">
        </div>
        
        <div class="control-group">
            <label>
                Радиус воздействия
                <span class="value" id="interactionRadiusValue">4</span>
            </label>
            <input type="range" id="interactionRadius" min="0.5" max="5" step="0.1" value="4">
        </div>
        
        <div class="control-group">
            <label>
                Жёсткость пружины
                <span class="value" id="springConstantValue">1.00</span>
            </label>
            <input type="range" id="springConstant" min="0.1" max="1.0" step="0.05" value="1.00">
        </div>
        
        <div class="control-group">
            <label>
                Демпфирование
                <span class="value" id="dampingValue">0.85</span>
            </label>
            <input type="range" id="damping" min="0.85" max="0.99" step="0.01" value="0.85">
        </div>
        
        <div class="control-group">
            <label>
                Скорость анимации
                <span class="value" id="timeScaleValue">0.90</span>
            </label>
            <input type="range" id="timeScale" min="0.1" max="1.0" step="0.05" value="0.90">
        </div>
        
        <div class="control-group">
            <label>
                Скорость пассивного движения
                <span class="value" id="autonomousMotionStrengthValue">0.02</span>
            </label>
            <input type="range" id="autonomousMotionStrength" min="0" max="0.05" step="0.002" value="0.02">
        </div>
        
        <div class="control-group">
            <label>
                Сила разлёта при скролле
                <span class="value" id="scrollSpreadForceValue">50</span>
            </label>
            <input type="range" id="scrollSpreadForce" min="0" max="100" step="5" value="50">
        </div>
        
        <div class="control-group" style="display:none">
            <label>
                Глубина скролла (vh)
                <span class="value" id="scrollDepthValue">300</span>
            </label>
            <input type="range" id="scrollDepth" min="0" max="500" step="10" value="300">
        </div>
        
        <div style="margin-top:20px;padding-top:20px;border-top:2px solid rgba(255,255,255,.2)">
            <h3 style="margin-bottom:15px;font-size:16px;font-weight:600">Настройки анимации загрузки</h3>
            
            <div class="control-group">
                <label>
                    Длительность анимации (мс)
                    <span class="value" id="loadAnimationDurationValue">2000</span>
                </label>
                <input type="range" id="loadAnimationDuration" min="2000" max="8000" step="100" value="2000">
            </div>
            
            <div class="control-group">
                <label style="margin-bottom:8px">
                    Кривая скорости анимации
                </label>
                <div style="font-size:10px;color:#999;margin-bottom:5px">Перетащите точки для настройки скорости в разные моменты времени</div>
                <canvas id="curveEditor"></canvas>
                <div class="preset-buttons">
                    <button class="preset-button" data-preset="linear">Linear</button>
                    <button class="preset-button" data-preset="ease-in">Ease In</button>
                    <button class="preset-button" data-preset="ease-out">Ease Out</button>
                    <button class="preset-button" data-preset="ease-in-out">Ease In-Out</button>
                </div>
            </div>
            
            <button id="restartLoadAnimation" class="apply-button">Применить и перезапустить</button>
        </div>
        
        <div style="margin-top:20px;padding-top:20px;border-top:2px solid rgba(255,255,255,.2)">
            <h3 style="margin-bottom:15px;font-size:16px;font-weight:600">Настройки волн</h3>
            
            <div class="control-group">
                <label style="display: flex; align-items: center; justify-content: space-between;">
                    <span>Включить волны</span>
                    <input type="checkbox" id="waveEnabled" style="width: auto; margin: 0;">
                </label>
            </div>
            
            <div class="control-group">
                <label>
                    Частота волн (мс)
                    <span class="value" id="waveIntervalValue">8000</span>
                </label>
                <input type="range" id="waveInterval" min="200" max="10000" step="100" value="8000">
            </div>
            
            <div class="control-group">
                <label>
                    Ширина волны
                    <span class="value" id="waveWidthValue">1.6</span>
                </label>
                <input type="range" id="waveWidth" min="1.0" max="10.0" step="0.1" value="1.6">
            </div>
            
            <div class="control-group">
                <label>
                    Скорость волны
                    <span class="value" id="waveSpeedValue">6.0</span>
                </label>
                <input type="range" id="waveSpeed" min="1.0" max="20.0" step="0.5" value="6.0">
            </div>
            
            <div class="control-group">
                <label>
                    Сила волны
                    <span class="value" id="waveForceValue">1</span>
                </label>
                <input type="range" id="waveForce" min="0" max="2" step="0.001" value="1">
            </div>
            
            <div class="control-group">
                <label>
                    Сила подсвечивания
                    <span class="value" id="waveGlowIntensityValue">0.75</span>
                </label>
                <input type="range" id="waveGlowIntensity" min="0.0" max="1.0" step="0.05" value="0.75">
            </div>
            
            <div class="control-group">
                <label>
                    Крутизна затухания
                    <span class="value" id="waveForceFalloffValue">0.5</span>
                </label>
                <input type="range" id="waveForceFalloff" min="0.1" max="2.0" step="0.1" value="0.5">
            </div>
        </div>
        
        <div style="margin-top:20px;padding-top:20px;border-top:2px solid rgba(255,255,255,.2)">
            <h3 style="margin-bottom:15px;font-size:16px;font-weight:600">Настройки взрыва по клику</h3>
            
            <div class="control-group">
                <label style="display: flex; align-items: center; justify-content: space-between;">
                    <span>Включить взрыв</span>
                    <input type="checkbox" id="explosionEnabled" checked style="width: auto; margin: 0;">
                </label>
            </div>
            
            <div class="control-group">
                <label>
                    Сила взрыва
                    <span class="value" id="explosionForceValue">10</span>
                </label>
                <input type="range" id="explosionForce" min="10" max="300" step="10" value="10">
            </div>
            
            <div class="control-group">
                <label>
                    Скорость разлёта
                    <span class="value" id="explosionSpeedValue">0.40</span>
                </label>
                <input type="range" id="explosionSpeed" min="0.1" max="2.0" step="0.1" value="0.4">
            </div>
            
            <div class="control-group">
                <label>
                    Длительность разлёта (мс)
                    <span class="value" id="explosionReturnDelayValue">1500</span>
                </label>
                <input type="range" id="explosionReturnDelay" min="0" max="3000" step="100" value="1500">
            </div>
        </div>
        
        <div style="margin-top:15px;padding-top:15px;border-top:1px solid rgba(255,255,255,.1);font-size:10px;color:#666">
            Версия: scroll-spread-v3-20250116
        </div>
        
    </div>
    
    <button id="toggleControls">Скрыть настройки</button>
    
    <div id="performanceMonitor">
        <div class="perf-metric">
            <span class="perf-label">FPS:</span>
            <span class="perf-value perf-value-green" id="fpsValue">60</span>
        </div>
        <div class="perf-metric">
            <span class="perf-label">Frame Time:</span>
            <span class="perf-value perf-value-green" id="frameTimeValue">16.66 ms</span>
        </div>
        <div class="perf-metric">
            <span class="perf-label">Память:</span>
            <span class="perf-value" id="memoryValue">0.0 / 0.0 MB</span>
        </div>
        <div class="perf-metric">
            <span class="perf-label">Точки:</span>
            <span class="perf-value" id="verticesValue">0</span>
        </div>
    </div>
    
    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
        }
    }
    </script>
    
    <script type="module" src="js/main.js"></script>
</body>
</html>
